<!-- KaTeX CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css"
  integrity="sha384-WcoG4HRXMzYzfCgiyfrySxx90XSl2rxY5mnVY5TwtWE6KLrArNKn0T/mOgNL0Mmi"
  crossorigin="anonymous"
>

<!-- KaTeX JS -->
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js"
  integrity="sha384-J+9dG2KMoiR9hqcFao0IBLwxt6zpcyN68IgwzsCSkbreXUjmNVRhPFTssqdSGjwQ"
  crossorigin="anonymous">
</script>

<!-- KaTeX Auto-render -->
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/auto-render.min.js"
  integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh"
  crossorigin="anonymous">
</script>

<!-- KaTeX Configuration -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    console.log('DOMContentLoaded - checking for KaTeX...');
    console.log('KaTeX available:', typeof katex !== 'undefined');
    console.log('renderMathInElement available:', typeof renderMathInElement !== 'undefined');
    
    // Wait for deferred scripts to load
    function tryRender() {
      if (typeof renderMathInElement !== 'undefined') {
        console.log('Rendering math with KaTeX...');
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '\\[', right: '\\]', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false}
          ],
          throwOnError: false,
          strict: false,
          trust: true
        });
        console.log('Math rendering complete');
      } else {
        console.log('renderMathInElement not ready, waiting...');
        setTimeout(tryRender, 100);
      }
    }
    
    tryRender();
  });
</script>
